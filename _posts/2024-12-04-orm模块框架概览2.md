---
title: ORM模块：框架概览（二）
date: 2024-12-04 10:00:00 +0800
categories: [go进阶之orm模块, 框架概览]
tags: [orm, 数据库, go进阶, sql, gorm]  # TAG names should always be lowercase
description: 介绍 gorm 框架
toc: true          # 可选，开启或关闭目录（取决于你的主题是否支持）
---
## GORM —— 入门例子
初始化以及使用

```go
type Product struct {
    gorm.Model
    Code  string `gorm:"column(code)"`
    Price uint
}

func TestCRUD(t *testing.T) {
    // 注入db，设置配置项
    db, err := gorm.Open(sqlite.Open("test.db"), &gorm.Config{})
    if err != nil {
      panic("failed to connect database")
    }
    // 打印 SQL，但不执行
    db.DryRun = true
    // 建立数据库表
    // Migrate the schema
    db.AutoMigrate(&Product{})
    // 执行数据库操作
    // Create
    db.Create(&Product{Code: "D42", Price: 100})
}
```

